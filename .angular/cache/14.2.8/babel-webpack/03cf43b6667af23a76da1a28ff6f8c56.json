{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable-next-line no-unused-vars */\n\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\n\nvar rxjs_1 = require(\"rxjs\");\n\nvar operators_1 = require(\"rxjs/operators\");\n\nvar States = {\n  READY: 0,\n  STREAMING: 1,\n  COMPLETED: 2\n};\n/**\n * The reactive result interface.\n */\n\nvar RxResult =\n/** @class */\nfunction () {\n  /**\n   * @constructor\n   * @protected\n   * @param {Observable<Result>} result - An observable of single Result instance to relay requests.\n   * @param {number} state - The streaming state\n   */\n  function RxResult(result, state) {\n    var replayedResult = result.pipe((0, operators_1.publishReplay)(1), (0, operators_1.refCount)());\n    this._result = replayedResult;\n    this._keys = replayedResult.pipe((0, operators_1.mergeMap)(function (r) {\n      return (0, rxjs_1.from)(r.keys());\n    }), (0, operators_1.publishReplay)(1), (0, operators_1.refCount)());\n    this._records = undefined;\n    this._controls = new StreamControl();\n    this._summary = new rxjs_1.ReplaySubject();\n    this._state = state || States.READY;\n  }\n  /**\n   * Returns an observable that exposes a single item containing field names\n   * returned by the executing query.\n   *\n   * Errors raised by actual query execution can surface on the returned\n   * observable stream.\n   *\n   * @public\n   * @returns {Observable<string[]>} - An observable stream (with exactly one element) of field names.\n   */\n\n\n  RxResult.prototype.keys = function () {\n    return this._keys;\n  };\n  /**\n   * Returns an observable that exposes each record returned by the executing query.\n   *\n   * Errors raised during the streaming phase can surface on the returned observable stream.\n   *\n   * @public\n   * @returns {Observable<Record>} - An observable stream of records.\n   */\n\n\n  RxResult.prototype.records = function () {\n    var _this = this;\n\n    var result = this._result.pipe((0, operators_1.mergeMap)(function (result) {\n      return new rxjs_1.Observable(function (recordsObserver) {\n        return _this._startStreaming({\n          result: result,\n          recordsObserver: recordsObserver\n        });\n      });\n    }));\n\n    result.push = function () {\n      return _this._push();\n    };\n\n    return result;\n  };\n  /**\n   * Returns an observable that exposes a single item of {@link ResultSummary} that is generated by\n   * the server after the streaming of the executing query is completed.\n   *\n   * *Subscribing to this stream before subscribing to records() stream causes the results to be discarded on the server.*\n   *\n   * @public\n   * @returns {Observable<ResultSummary>} - An observable stream (with exactly one element) of result summary.\n   */\n\n\n  RxResult.prototype.consume = function () {\n    var _this = this;\n\n    return this._result.pipe((0, operators_1.mergeMap)(function (result) {\n      return new rxjs_1.Observable(function (summaryObserver) {\n        return _this._startStreaming({\n          result: result,\n          summaryObserver: summaryObserver\n        });\n      });\n    }));\n  };\n  /**\n   * Pauses the automatic streaming of records.\n   *\n   * This method provides a way of control the flow of records\n   *\n   * @experimental\n   */\n\n\n  RxResult.prototype.pause = function () {\n    this._controls.pause();\n  };\n  /**\n   * Resumes the automatic streaming of records.\n   *\n   * This method won't need to be called in normal stream operation. It only applies to the case when the stream is paused.\n   *\n   * This method is method won't start the consuming records if the ${@link records()} stream didn't get subscribed.\n   * @experimental\n   * @returns {Promise<void>} - A promise that resolves when the stream is resumed.\n   */\n\n\n  RxResult.prototype.resume = function () {\n    return this._controls.resume();\n  };\n  /**\n   * Pushes the next record to the stream.\n   *\n   * This method automatic pause the auto-streaming of records and then push next record to the stream.\n   *\n   * For returning the automatic streaming of records, use {@link resume} method.\n   *\n   * @experimental\n   * @returns {Promise<void>} - A promise that resolves when the push is completed.\n   */\n\n\n  RxResult.prototype.push = function () {\n    return this._controls.push();\n  };\n\n  RxResult.prototype._startStreaming = function (_a) {\n    var _b = _a === void 0 ? {} : _a,\n        result = _b.result,\n        _c = _b.recordsObserver,\n        recordsObserver = _c === void 0 ? null : _c,\n        _d = _b.summaryObserver,\n        summaryObserver = _d === void 0 ? null : _d;\n\n    var subscriptions = [];\n\n    if (summaryObserver) {\n      subscriptions.push(this._summary.subscribe(summaryObserver));\n    }\n\n    if (this._state < States.STREAMING) {\n      this._state = States.STREAMING;\n\n      this._setupRecordsStream(result);\n\n      if (recordsObserver) {\n        subscriptions.push(this._records.subscribe(recordsObserver));\n      } else {\n        result._cancel();\n      }\n\n      subscriptions.push({\n        unsubscribe: function () {\n          if (result._cancel) {\n            result._cancel();\n          }\n        }\n      });\n    } else if (recordsObserver) {\n      recordsObserver.error((0, neo4j_driver_core_1.newError)('Streaming has already started/consumed with a previous records or summary subscription.'));\n    }\n\n    return function () {\n      subscriptions.forEach(function (s) {\n        return s.unsubscribe();\n      });\n    };\n  };\n  /**\n   * Create a {@link Observable} for the current {@link RxResult}\n   *\n   *\n   * @package\n   * @experimental\n   * @since 5.0\n   * @return {Observable<RxResult>}\n   */\n\n\n  RxResult.prototype._toObservable = function () {\n    var _this = this;\n\n    function wrap(result) {\n      return new rxjs_1.Observable(function (observer) {\n        observer.next(result);\n        observer.complete();\n      });\n    }\n\n    return new rxjs_1.Observable(function (observer) {\n      _this._result.subscribe({\n        complete: function () {\n          return observer.complete();\n        },\n        next: function (result) {\n          return observer.next(new RxResult(wrap(result)), _this._state);\n        },\n        error: function (e) {\n          return observer.error(e);\n        }\n      });\n    });\n  };\n\n  RxResult.prototype._setupRecordsStream = function (result) {\n    var _this = this;\n\n    if (this._records) {\n      return this._records;\n    }\n\n    this._records = createFullyControlledSubject(result[Symbol.asyncIterator](), {\n      complete: function () {\n        return __awaiter(_this, void 0, void 0, function () {\n          var _a, _b;\n\n          return __generator(this, function (_c) {\n            switch (_c.label) {\n              case 0:\n                this._state = States.COMPLETED;\n                _b = (_a = this._summary).next;\n                return [4\n                /*yield*/\n                , result.summary()];\n\n              case 1:\n                _b.apply(_a, [_c.sent()]);\n\n                this._summary.complete();\n\n                return [2\n                /*return*/\n                ];\n            }\n          });\n        });\n      },\n      error: function (error) {\n        _this._state = States.COMPLETED;\n\n        _this._summary.error(error);\n      }\n    }, this._controls);\n    return this._records;\n  };\n\n  return RxResult;\n}();\n\nexports.default = RxResult;\n\nfunction createFullyControlledSubject(iterator, completeObserver, streamControl) {\n  var _this = this;\n\n  if (streamControl === void 0) {\n    streamControl = new StreamControl();\n  }\n\n  var subject = new rxjs_1.Subject();\n\n  var pushNextValue = function (result) {\n    return __awaiter(_this, void 0, void 0, function () {\n      var _a, done, value, error_1;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _b.trys.push([0, 2, 3, 4]);\n\n            streamControl.pushing = true;\n            return [4\n            /*yield*/\n            , result];\n\n          case 1:\n            _a = _b.sent(), done = _a.done, value = _a.value;\n\n            if (done) {\n              subject.complete();\n              completeObserver.complete();\n            } else {\n              subject.next(value);\n\n              if (!streamControl.paused) {\n                pushNextValue(iterator.next()).catch(function () {});\n              }\n            }\n\n            return [3\n            /*break*/\n            , 4];\n\n          case 2:\n            error_1 = _b.sent();\n            subject.error(error_1);\n            completeObserver.error(error_1);\n            return [3\n            /*break*/\n            , 4];\n\n          case 3:\n            streamControl.pushing = false;\n            return [7\n            /*endfinally*/\n            ];\n\n          case 4:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  function push(value) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , pushNextValue(iterator.next(value))];\n\n          case 1:\n            _a.sent();\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }\n\n  streamControl.pusher = push;\n  push();\n  return subject;\n}\n\nvar StreamControl =\n/** @class */\nfunction () {\n  function StreamControl(push) {\n    if (push === void 0) {\n      push = function () {\n        return __awaiter(_this, void 0, void 0, function () {\n          return __generator(this, function (_a) {\n            return [2\n            /*return*/\n            ];\n          });\n        });\n      };\n    }\n\n    var _this = this;\n\n    this._paused = false;\n    this._pushing = false;\n    this._push = push;\n  }\n\n  StreamControl.prototype.pause = function () {\n    this._paused = true;\n  };\n\n  Object.defineProperty(StreamControl.prototype, \"paused\", {\n    get: function () {\n      return this._paused;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StreamControl.prototype, \"pushing\", {\n    get: function () {\n      return this._pushing;\n    },\n    set: function (pushing) {\n      this._pushing = pushing;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  StreamControl.prototype.resume = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var wasPaused;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            wasPaused = this._paused;\n            this._paused = false;\n            if (!(wasPaused && !this._pushing)) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , this._push()];\n\n          case 1:\n            _a.sent();\n\n            _a.label = 2;\n\n          case 2:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  StreamControl.prototype.push = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            this.pause();\n            return [4\n            /*yield*/\n            , this._push()];\n\n          case 1:\n            return [2\n            /*return*/\n            , _a.sent()];\n        }\n      });\n    });\n  };\n\n  Object.defineProperty(StreamControl.prototype, \"pusher\", {\n    get: function () {\n      return this._push;\n    },\n    set: function (push) {\n      this._push = push;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return StreamControl;\n}();","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","Object","defineProperty","exports","neo4j_driver_core_1","require","rxjs_1","operators_1","States","READY","STREAMING","COMPLETED","RxResult","state","replayedResult","pipe","publishReplay","refCount","_result","_keys","mergeMap","r","from","keys","_records","undefined","_controls","StreamControl","_summary","ReplaySubject","_state","prototype","records","_this","Observable","recordsObserver","_startStreaming","_push","consume","summaryObserver","pause","resume","_a","_b","_c","_d","subscriptions","subscribe","_setupRecordsStream","_cancel","unsubscribe","error","newError","forEach","s","_toObservable","wrap","observer","complete","createFullyControlledSubject","asyncIterator","summary","default","completeObserver","streamControl","subject","Subject","pushNextValue","error_1","pushing","paused","catch","pusher","_paused","_pushing","get","enumerable","configurable","set","wasPaused"],"sources":["C:/projects/levelUp_v1/Level-Up-FN/Level-Up-Fronten-master/node_modules/neo4j-driver/lib/result-rx.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/* eslint-disable-next-line no-unused-vars */\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\nvar rxjs_1 = require(\"rxjs\");\nvar operators_1 = require(\"rxjs/operators\");\nvar States = {\n    READY: 0,\n    STREAMING: 1,\n    COMPLETED: 2\n};\n/**\n * The reactive result interface.\n */\nvar RxResult = /** @class */ (function () {\n    /**\n     * @constructor\n     * @protected\n     * @param {Observable<Result>} result - An observable of single Result instance to relay requests.\n     * @param {number} state - The streaming state\n     */\n    function RxResult(result, state) {\n        var replayedResult = result.pipe((0, operators_1.publishReplay)(1), (0, operators_1.refCount)());\n        this._result = replayedResult;\n        this._keys = replayedResult.pipe((0, operators_1.mergeMap)(function (r) { return (0, rxjs_1.from)(r.keys()); }), (0, operators_1.publishReplay)(1), (0, operators_1.refCount)());\n        this._records = undefined;\n        this._controls = new StreamControl();\n        this._summary = new rxjs_1.ReplaySubject();\n        this._state = state || States.READY;\n    }\n    /**\n     * Returns an observable that exposes a single item containing field names\n     * returned by the executing query.\n     *\n     * Errors raised by actual query execution can surface on the returned\n     * observable stream.\n     *\n     * @public\n     * @returns {Observable<string[]>} - An observable stream (with exactly one element) of field names.\n     */\n    RxResult.prototype.keys = function () {\n        return this._keys;\n    };\n    /**\n     * Returns an observable that exposes each record returned by the executing query.\n     *\n     * Errors raised during the streaming phase can surface on the returned observable stream.\n     *\n     * @public\n     * @returns {Observable<Record>} - An observable stream of records.\n     */\n    RxResult.prototype.records = function () {\n        var _this = this;\n        var result = this._result.pipe((0, operators_1.mergeMap)(function (result) {\n            return new rxjs_1.Observable(function (recordsObserver) {\n                return _this._startStreaming({ result: result, recordsObserver: recordsObserver });\n            });\n        }));\n        result.push = function () { return _this._push(); };\n        return result;\n    };\n    /**\n     * Returns an observable that exposes a single item of {@link ResultSummary} that is generated by\n     * the server after the streaming of the executing query is completed.\n     *\n     * *Subscribing to this stream before subscribing to records() stream causes the results to be discarded on the server.*\n     *\n     * @public\n     * @returns {Observable<ResultSummary>} - An observable stream (with exactly one element) of result summary.\n     */\n    RxResult.prototype.consume = function () {\n        var _this = this;\n        return this._result.pipe((0, operators_1.mergeMap)(function (result) {\n            return new rxjs_1.Observable(function (summaryObserver) {\n                return _this._startStreaming({ result: result, summaryObserver: summaryObserver });\n            });\n        }));\n    };\n    /**\n     * Pauses the automatic streaming of records.\n     *\n     * This method provides a way of control the flow of records\n     *\n     * @experimental\n     */\n    RxResult.prototype.pause = function () {\n        this._controls.pause();\n    };\n    /**\n     * Resumes the automatic streaming of records.\n     *\n     * This method won't need to be called in normal stream operation. It only applies to the case when the stream is paused.\n     *\n     * This method is method won't start the consuming records if the ${@link records()} stream didn't get subscribed.\n     * @experimental\n     * @returns {Promise<void>} - A promise that resolves when the stream is resumed.\n     */\n    RxResult.prototype.resume = function () {\n        return this._controls.resume();\n    };\n    /**\n     * Pushes the next record to the stream.\n     *\n     * This method automatic pause the auto-streaming of records and then push next record to the stream.\n     *\n     * For returning the automatic streaming of records, use {@link resume} method.\n     *\n     * @experimental\n     * @returns {Promise<void>} - A promise that resolves when the push is completed.\n     */\n    RxResult.prototype.push = function () {\n        return this._controls.push();\n    };\n    RxResult.prototype._startStreaming = function (_a) {\n        var _b = _a === void 0 ? {} : _a, result = _b.result, _c = _b.recordsObserver, recordsObserver = _c === void 0 ? null : _c, _d = _b.summaryObserver, summaryObserver = _d === void 0 ? null : _d;\n        var subscriptions = [];\n        if (summaryObserver) {\n            subscriptions.push(this._summary.subscribe(summaryObserver));\n        }\n        if (this._state < States.STREAMING) {\n            this._state = States.STREAMING;\n            this._setupRecordsStream(result);\n            if (recordsObserver) {\n                subscriptions.push(this._records.subscribe(recordsObserver));\n            }\n            else {\n                result._cancel();\n            }\n            subscriptions.push({\n                unsubscribe: function () {\n                    if (result._cancel) {\n                        result._cancel();\n                    }\n                }\n            });\n        }\n        else if (recordsObserver) {\n            recordsObserver.error((0, neo4j_driver_core_1.newError)('Streaming has already started/consumed with a previous records or summary subscription.'));\n        }\n        return function () {\n            subscriptions.forEach(function (s) { return s.unsubscribe(); });\n        };\n    };\n    /**\n     * Create a {@link Observable} for the current {@link RxResult}\n     *\n     *\n     * @package\n     * @experimental\n     * @since 5.0\n     * @return {Observable<RxResult>}\n     */\n    RxResult.prototype._toObservable = function () {\n        var _this = this;\n        function wrap(result) {\n            return new rxjs_1.Observable(function (observer) {\n                observer.next(result);\n                observer.complete();\n            });\n        }\n        return new rxjs_1.Observable(function (observer) {\n            _this._result.subscribe({\n                complete: function () { return observer.complete(); },\n                next: function (result) { return observer.next(new RxResult(wrap(result)), _this._state); },\n                error: function (e) { return observer.error(e); }\n            });\n        });\n    };\n    RxResult.prototype._setupRecordsStream = function (result) {\n        var _this = this;\n        if (this._records) {\n            return this._records;\n        }\n        this._records = createFullyControlledSubject(result[Symbol.asyncIterator](), {\n            complete: function () { return __awaiter(_this, void 0, void 0, function () {\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            this._state = States.COMPLETED;\n                            _b = (_a = this._summary).next;\n                            return [4 /*yield*/, result.summary()];\n                        case 1:\n                            _b.apply(_a, [_c.sent()]);\n                            this._summary.complete();\n                            return [2 /*return*/];\n                    }\n                });\n            }); },\n            error: function (error) {\n                _this._state = States.COMPLETED;\n                _this._summary.error(error);\n            }\n        }, this._controls);\n        return this._records;\n    };\n    return RxResult;\n}());\nexports.default = RxResult;\nfunction createFullyControlledSubject(iterator, completeObserver, streamControl) {\n    var _this = this;\n    if (streamControl === void 0) { streamControl = new StreamControl(); }\n    var subject = new rxjs_1.Subject();\n    var pushNextValue = function (result) { return __awaiter(_this, void 0, void 0, function () {\n        var _a, done, value, error_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 2, 3, 4]);\n                    streamControl.pushing = true;\n                    return [4 /*yield*/, result];\n                case 1:\n                    _a = _b.sent(), done = _a.done, value = _a.value;\n                    if (done) {\n                        subject.complete();\n                        completeObserver.complete();\n                    }\n                    else {\n                        subject.next(value);\n                        if (!streamControl.paused) {\n                            pushNextValue(iterator.next())\n                                .catch(function () { });\n                        }\n                    }\n                    return [3 /*break*/, 4];\n                case 2:\n                    error_1 = _b.sent();\n                    subject.error(error_1);\n                    completeObserver.error(error_1);\n                    return [3 /*break*/, 4];\n                case 3:\n                    streamControl.pushing = false;\n                    return [7 /*endfinally*/];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    function push(value) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, pushNextValue(iterator.next(value))];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    }\n    streamControl.pusher = push;\n    push();\n    return subject;\n}\nvar StreamControl = /** @class */ (function () {\n    function StreamControl(push) {\n        if (push === void 0) { push = function () { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n            return [2 /*return*/];\n        }); }); }; }\n        var _this = this;\n        this._paused = false;\n        this._pushing = false;\n        this._push = push;\n    }\n    StreamControl.prototype.pause = function () {\n        this._paused = true;\n    };\n    Object.defineProperty(StreamControl.prototype, \"paused\", {\n        get: function () {\n            return this._paused;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StreamControl.prototype, \"pushing\", {\n        get: function () {\n            return this._pushing;\n        },\n        set: function (pushing) {\n            this._pushing = pushing;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StreamControl.prototype.resume = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var wasPaused;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        wasPaused = this._paused;\n                        this._paused = false;\n                        if (!(wasPaused && !this._pushing)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this._push()];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    StreamControl.prototype.push = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.pause();\n                        return [4 /*yield*/, this._push()];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    Object.defineProperty(StreamControl.prototype, \"pusher\", {\n        get: function () {\n            return this._push;\n        },\n        set: function (push) {\n            this._push = push;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return StreamControl;\n}());"],"mappings":"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"},"metadata":{},"sourceType":"script"}