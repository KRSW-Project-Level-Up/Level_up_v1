{"ast":null,"code":"\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.reuseOngoingRequest = exports.identity = void 0;\n\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\n/**\n * Identity function.\n *\n * Identity functions are function which returns the input as output.\n *\n * @param {any} x\n * @returns {any} the x\n */\n\n\nfunction identity(x) {\n  return x;\n}\n\nexports.identity = identity;\n/**\n * Makes the function able to share ongoing requests\n *\n * @param {function(...args): Promise} func The function to be decorated\n * @param {any} thisArg The `this` which should be used in the function call\n * @return {function(...args): Promise} The decorated function\n */\n\nfunction reuseOngoingRequest(func, thisArg) {\n  if (thisArg === void 0) {\n    thisArg = null;\n  }\n\n  var ongoingRequests = new Map();\n  return function () {\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    var key = neo4j_driver_core_1.json.stringify(args);\n\n    if (ongoingRequests.has(key)) {\n      return ongoingRequests.get(key);\n    }\n\n    var promise = func.apply(thisArg, args);\n    ongoingRequests.set(key, promise);\n    return promise.finally(function () {\n      ongoingRequests.delete(key);\n    });\n  };\n}\n\nexports.reuseOngoingRequest = reuseOngoingRequest;","map":{"version":3,"names":["Object","defineProperty","exports","value","reuseOngoingRequest","identity","neo4j_driver_core_1","require","x","func","thisArg","ongoingRequests","Map","args","_i","arguments","length","key","json","stringify","has","get","promise","apply","set","finally","delete"],"sources":["C:/projects/levelUp_v1/Level-Up-FN/Level-Up-Fronten-master/node_modules/neo4j-driver-bolt-connection/lib/lang/functional.js"],"sourcesContent":["\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [https://neo4j.com]\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.reuseOngoingRequest = exports.identity = void 0;\nvar neo4j_driver_core_1 = require(\"neo4j-driver-core\");\n/**\n * Identity function.\n *\n * Identity functions are function which returns the input as output.\n *\n * @param {any} x\n * @returns {any} the x\n */\nfunction identity(x) {\n    return x;\n}\nexports.identity = identity;\n/**\n * Makes the function able to share ongoing requests\n *\n * @param {function(...args): Promise} func The function to be decorated\n * @param {any} thisArg The `this` which should be used in the function call\n * @return {function(...args): Promise} The decorated function\n */\nfunction reuseOngoingRequest(func, thisArg) {\n    if (thisArg === void 0) { thisArg = null; }\n    var ongoingRequests = new Map();\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = neo4j_driver_core_1.json.stringify(args);\n        if (ongoingRequests.has(key)) {\n            return ongoingRequests.get(key);\n        }\n        var promise = func.apply(thisArg, args);\n        ongoingRequests.set(key, promise);\n        return promise.finally(function () {\n            ongoingRequests.delete(key);\n        });\n    };\n}\nexports.reuseOngoingRequest = reuseOngoingRequest;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,mBAAR,GAA8BF,OAAO,CAACG,QAAR,GAAmB,KAAK,CAAtD;;AACA,IAAIC,mBAAmB,GAAGC,OAAO,CAAC,mBAAD,CAAjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASF,QAAT,CAAkBG,CAAlB,EAAqB;EACjB,OAAOA,CAAP;AACH;;AACDN,OAAO,CAACG,QAAR,GAAmBA,QAAnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASD,mBAAT,CAA6BK,IAA7B,EAAmCC,OAAnC,EAA4C;EACxC,IAAIA,OAAO,KAAK,KAAK,CAArB,EAAwB;IAAEA,OAAO,GAAG,IAAV;EAAiB;;EAC3C,IAAIC,eAAe,GAAG,IAAIC,GAAJ,EAAtB;EACA,OAAO,YAAY;IACf,IAAIC,IAAI,GAAG,EAAX;;IACA,KAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGC,SAAS,CAACC,MAAhC,EAAwCF,EAAE,EAA1C,EAA8C;MAC1CD,IAAI,CAACC,EAAD,CAAJ,GAAWC,SAAS,CAACD,EAAD,CAApB;IACH;;IACD,IAAIG,GAAG,GAAGX,mBAAmB,CAACY,IAApB,CAAyBC,SAAzB,CAAmCN,IAAnC,CAAV;;IACA,IAAIF,eAAe,CAACS,GAAhB,CAAoBH,GAApB,CAAJ,EAA8B;MAC1B,OAAON,eAAe,CAACU,GAAhB,CAAoBJ,GAApB,CAAP;IACH;;IACD,IAAIK,OAAO,GAAGb,IAAI,CAACc,KAAL,CAAWb,OAAX,EAAoBG,IAApB,CAAd;IACAF,eAAe,CAACa,GAAhB,CAAoBP,GAApB,EAAyBK,OAAzB;IACA,OAAOA,OAAO,CAACG,OAAR,CAAgB,YAAY;MAC/Bd,eAAe,CAACe,MAAhB,CAAuBT,GAAvB;IACH,CAFM,CAAP;EAGH,CAdD;AAeH;;AACDf,OAAO,CAACE,mBAAR,GAA8BA,mBAA9B"},"metadata":{},"sourceType":"script"}